# so_long
42seoul에서 진행하는 so_long 프로젝트는 그래픽 과제 중 하나로 <br/>
42에서 제공하는 Xlib의 축소 버전인 MiniLibX(이하 mlx)를 활용하여 간단한 2D 게임을 제작하는 프로젝트입니다. <br/>
이 프로젝트는 그래픽 렌더링, 이벤트 처리, 파일 파싱 등의 기술을 학습하는 데 목적이 있습니다. <br/>
해당 프로젝트는 MacOS 기준으로 작성 되었습니다.

## 목차
1. [프로젝트 목표](프로젝트-목표)
2. [파일 구조](파일-구조)
3. [가능한 맵 예시](가능한-맵-예시)
4. [플레이 방법](플레이-방법)

## 프로젝트 목표

### 학습 목표
- **MiniLibX 사용**: 2D 그래픽 라이브러리를 활용하여 게임 창 및 그래픽 요소를 구현합니다.
- **맵 파싱**: `.ber`라는 확장자를 갖는 파일을 읽어 맵의 조건을 만족하는지 확인합니다.
- **게임 로직 설계**: 플레이어 이동, 벽 충돌, 수집품 획득, 탈출구를 통한 게임 종료 등의 게임 동작을 구현합니다.
- **이벤트 처리**: 키보드 입력과 창 이벤트를 처리하여 사용자 상호작용을 구현합니다.

### 컴파일 요구사항
- 반드시 **MiniLibX**를 사용해야 합니다.
- 프로젝트는 `Makefile`로 관리되며, 리링크(relink)가 되면 안됩니다.
- 프로그램은 `.ber` 확장자를 가진 맵 파일만 실행 인자로 받을 수 있습니다.

### 게임 동작
- 플레이어는 `w`, `a`, `s`, `d` 키를 사용해 상, 좌, 하, 우로 이동할 수 있어야 합니다.
- 플레이어는 모든 수집품을 모은 뒤, 최대한 짧은 경로로 탈출구에 도달하는 것을 목표로 합니다.
- 이동할 때마다 총 움직임 수가 터미널에 출력됩니다.
- 게임 테마는 넣어준 image에 따라서 다르게 나타날수 있습니다.
- ESC 키 또는 창의 x 버튼을 누르면 프로그램이 종료되어야 합니다.

### 그래픽 처리
- MiniLibX를 활용하여 맵과 캐릭터를 윈도우에 렌더링합니다.
- 창의 위치 조정, 최소화, 창 변경 등의 상황에서도 정상 동작해야 합니다.

## 파일 구조

```plaintext
so_long/
├── image/                 # 게임에 요소들을 위한 이미지
├── map/                   # 맵 파일 디렉토리
├── mlx/                   # MiniLibX 라이브러리 디렉토리
├── src/                   # 실제 코드 디렉토리
│   ├── draw.c
│   ├── key_hook.c
│   ├── move.c
│   ├── ...
│   ├── main.c
│   └── so_long.h
└── Makefile
```

## 가능한 맵 예시

맵은 다음 요소로 구성됩니다:
- **`'0'`**: 빈 공간
- **`'1'`**: 벽
- **`'C'`**: 수집품
- **`'E'`**: 탈출구
- **`'P'`**: 플레이어 시작 위치

### 맵 규칙
1. 맵은 반드시 직사각형이어야 합니다.
2. 맵은 하나의 탈출구, 하나 이상의 수집품, 하나의 플레이어 시작 위치를 포함해야 합니다.
3. 맵은 반드시 벽으로 둘러싸여야 합니다.
4. 조건에 맞지 않는 맵 파일은 "Error\n" 메시지를 반환합니다.

### 예제 맵

```plaintext
1111111111111
10010000000C1
1000011111001
1P0011E000001
1111111111111
```

```plaintext
1111111111111111111111111111111111
1E0000000000000C00000C000000000001
1010010100100000101001000000010101
1010010010101010001001000000010101
1P0000000C00C0000000000000000000C1
1111111111111111111111111111111111
```

## 플레이 방법
### 컴파일
`Makefile`을 사용하여 프로젝트를 컴파일합니다:

```bash
make
```

### 실행
컴파일 후, 실행 파일과 함께 `.ber` 형식의 맵 파일을 입력으로 전달합니다:
./map/ 안에 적당한 map이 들어있습니다.
```bash
./so_long ./map/map1.ber
```
<img width="420" alt="image" src="https://github.com/user-attachments/assets/34d3c128-bde5-4026-9480-bea32b5f6038" />

### 조작법
- **`w`**, **`a`**, **`s`**, **`d`** 키를 사용하여 상, 좌, 하, 우로 이동합니다.
- ESC 키 또는 창의 x 버튼을 누르면 게임이 종료됩니다.

### 게임 목표
- 맵에 있는 모든 수집품(**`'C'`**)을 모으고 탈출구(**`'E'`**)를 통해 탈출합니다.
- 플레이어가 움직일 때마다 터미널에 이동 횟수가 출력됩니다.

> **전체 과제에 대한 설명은 [so_long](https://guiltless-break-8cc.notion.site/so_long-e1eef44a143e4890b0216b7451ca8b14?pvs=4)를 참고하세요.**
